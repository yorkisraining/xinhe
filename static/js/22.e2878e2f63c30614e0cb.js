webpackJsonp([22],{CRRf:function(t,e){},XcUu:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("GKy3");var o=s("4vvA"),n=s.n(o),a=(s("g3lQ"),s("PI0u"),{name:"changePassword",data:function(){return{phoneNumber:"",code:"",newPassword:"",reNewPassword:"",countDownMsg:"获取验证码",setDownMsg:"重新获取",classA:!0,auth_time:0,content:"确认信息",topNum:"3.28rem",rotateShow:!1}},components:{bigBtn:s("Au7V").a},created:function(){},mounted:function(){this.phoneNumber=JSON.parse(sessionStorage.getItem("userInfo")).phone},methods:{getCode:function(){var t=this;if(this.classA){this.auth_time=60,this.classA=!1;var e=setInterval(function(){t.auth_time--,t.auth_time<=0&&(t.classA=!0,clearInterval(e))},1e3);data={resultCode:1e3},1e3==data.resultCode?console.log("发送验证码成功"):1001==data.resultCode?(console.log("参数为空，验证码错误"),this.notifyIt("参数为空，验证码错误")):1110==data.resultCode?(console.log("业务异常"),this.notifyIt("业务异常")):3004==data.resultCode?(console.log("请不要频繁操作"),this.notifyIt("请不要频繁操作")):1111==data.resultCode?(console.log("手机号未注册"),this.notifyIt("手机号未注册")):3005==data.resultCode&&(console.log("今天您的验证码次数已经达到上线"),this.notifyIt("今天您的验证码次数已经达到上线"))}},notifyIt:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.$notify({message:t,duration:e})},sureSubmit:function(){return""==this.code?(this.notifyIt("验证码不能为空"),!1):""==this.newPassword?(this.notifyIt("新密码不能为空"),!1):this.newPassword.length<8?(this.notifyIt("新密码长度不能少于8位"),!1):this.newPassword.length>14?(this.notifyIt("新密码长度不能多于14位"),!1):""==this.reNewPassword?(this.notifyIt("确认密码不能为空"),!1):this.newPassword!=this.reNewPassword?(this.notifyIt("新密码和确认密码不一致"),!1):(this.rotateShow=!0,this.rotateShow=!1,console.log(data.resultCode),data={resultCode:1e3},void(1e3==data.resultCode?(n.a.success("修改成功"),this.$router.push({name:"login"})):1001==data.resultCode?(console.log("无效操作"),this.notifyIt("无效操作")):3001==data.resultCode?(console.log("验证码错误"),this.notifyIt("验证码错误")):3002==data.resultCode&&(console.log("验证码失效"),this.notifyIt("验证码失效"))))}},computed:{filePhone:function(){return this.phoneNumber.toString().substring(0,3)+"****"+this.phoneNumber.toString().substring(7,this.phoneNumber.length)},timesPhone:function(){return"重新获取("+this.auth_time+"s)"}},watch:{code:function(t){this.code=this.code.substring(0,6)}}}),i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{attrs:{id:"changePassword"}},[s("li",[t._m(0),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filePhone,expression:"filePhone"}],staticClass:"formInput",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.filePhone},on:{input:function(e){e.target.composing||(t.filePhone=e.target.value)}}}),t._v(" "),s("span",{class:t.classA?"getCode":"reGetCode",domProps:{textContent:t._s(t.classA?t.countDownMsg:t.timesPhone)},on:{click:t.getCode}})]),t._v(" "),s("li",[t._m(1),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"formInput",attrs:{type:"number",placeholder:"请输入手机验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),t._v(" "),s("li",[t._m(2),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"formInput",attrs:{type:"password",placeholder:"请输入您的密码，长度为8-14位"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})]),t._v(" "),s("li",[t._m(3),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.reNewPassword,expression:"reNewPassword"}],staticClass:"formInput",attrs:{type:"password",placeholder:"再次输入新密码"},domProps:{value:t.reNewPassword},on:{input:function(e){e.target.composing||(t.reNewPassword=e.target.value)}}})]),t._v(" "),s("big-btn",{attrs:{content:t.content,topNum:t.topNum,rotateShow:t.rotateShow},on:{childClick:t.sureSubmit}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"leftCon"},[e("span",[this._v("手机号码")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"leftCon les4"},[e("span",[this._v("验证码")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"leftCon les4"},[e("span",[this._v("新密码")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"leftCon"},[e("span",[this._v("确认密码")])])}]};var r=s("VU/8")(a,i,!1,function(t){s("CRRf")},"data-v-da8de5e4",null);e.default=r.exports}});
//# sourceMappingURL=22.e2878e2f63c30614e0cb.js.map