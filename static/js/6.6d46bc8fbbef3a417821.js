webpackJsonp([6],{Dd8w:function(t,e,a){"use strict";e.__esModule=!0;var n,o=a("woOf"),s=(n=o)&&n.__esModule?n:{default:n};e.default=s.default||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}},GxCL:function(t,e){},LuDR:function(t,e){},Pgsp:function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"login_input_block"},[a("div",{staticClass:"login_input_icon"},[a("span",[a("img",{directives:[{name:"show",rawName:"v-show",value:"vertical"!=t.howLong,expression:"howLong != 'vertical'"}],staticClass:"icon_img",attrs:{src:t.icon}})])]),t._v(" "),a("input",{staticClass:"login_input_item",class:t.howLong,attrs:{type:t.type,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){t.changeValFn(e.target.value)}}})])])},staticRenderFns:[]};var o=a("VU/8")({data:function(){return{temporaryVal:""}},props:["type","placeholder","value","howLong","icon"],methods:{maxLength:function(t){return t.length>30?(t=t.substring(0,30),this.temporaryVal=t,t):t},changeValFn:function(t){this.$emit("changeCode",t)}}},n,!1,function(t){a("o4dv")},"data-v-360529ac",null);e.a=o.exports},R4wc:function(t,e,a){var n=a("kM2E");n(n.S+n.F,"Object",{assign:a("To3L")})},To3L:function(t,e,a){"use strict";var n=a("lktj"),o=a("1kS7"),s=a("NpIQ"),i=a("sB3e"),l=a("MU5D"),r=Object.assign;t.exports=!r||a("S82l")(function(){var t={},e={},a=Symbol(),n="abcdefghijklmnopqrst";return t[a]=7,n.split("").forEach(function(t){e[t]=t}),7!=r({},t)[a]||Object.keys(r({},e)).join("")!=n})?function(t,e){for(var a=i(t),r=arguments.length,c=1,u=o.f,m=s.f;r>c;)for(var d,g=l(arguments[c++]),h=u?n(g).concat(u(g)):n(g),f=h.length,p=0;f>p;)m.call(g,d=h[p++])&&(a[d]=g[d]);return a}:r},V3tA:function(t,e,a){a("R4wc"),t.exports=a("FeBl").Object.assign},c2lw:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),o=a.n(n),s=a("NYxO"),i={name:"keyValMsgBlock",data:function(){return{countDownMsg:"获取验证码",canCountDown:!1,timeFlag:!1,time:60,temporaryVal:"",checkStatus:!0}},props:["keys","val","widths","name","smsCodeFlag","type"],methods:o()({},Object(s.b)(["pmodule/changeRegisterVal"]),{maxLength:function(t,e){var a=30;return"smsCode"==e&&(a=6),t.length>a?(t=t.substring(0,a),this.temporaryVal=t,t):t},changeValFn:function(t){var e=t.target.value;e=this.maxLength(e,t.target.name),this.$store.commit("pmodule/changeRegisterVal",{name:t.target.name,val:e})},getSmsCodeForFather:function(){this.$emit("getSmsCode")},setPayTime:function(){var t=this;if(!this.timeFlag){this.timeFlag=!0;!function e(){0==t.time?(t.timeFlag=!1,t.time=60):(t.time--,setTimeout(function(){e()},1e3))}()}},checkRadio:function(t){this.checkStatus=!this.checkStatus,this.$store.commit("pmodule/changeRegisterVal",{name:"sex",val:t.target.dataset.val})}}),watch:{smsCodeFlag:function(t,e){this.canCountDown=t},canCountDown:function(t,e){t&&this.setPayTime()},time:function(t,e){e>0?this.countDownMsg="重新获取("+this.time+"s)":(this.canCountDown=!1,this.$emit("changeFlag"),this.countDownMsg="获取验证码")}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"msg_block clear",class:t.widths,attrs:{keys:t.keys,val:t.val}},[a("div",{staticClass:"msg_item msg_key"},[t._v(t._s(t.keys))]),t._v(" "),a("div",{staticClass:"msg_item msg_val"},["sex"==t.name?a("div",{staticClass:"msg_item_radio"},[a("div",{staticClass:"radio_item",class:1==t.checkStatus?"checked":"",attrs:{"data-val":"0"},on:{click:function(e){t.checkRadio(e)}}},[t._v("男")]),t._v(" "),a("div",{staticClass:"radio_item",class:0==t.checkStatus?"checked":"",attrs:{"data-val":"1"},on:{click:function(e){t.checkRadio(e)}}},[t._v("女")])]):"checkbox"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.temporaryVal,expression:"temporaryVal"}],class:"phone"==t.name?"length":"",attrs:{placeholder:t.val,name:t.name,type:"checkbox"},domProps:{checked:Array.isArray(t.temporaryVal)?t._i(t.temporaryVal,null)>-1:t.temporaryVal},on:{input:function(e){t.changeValFn(e)},change:function(e){var a=t.temporaryVal,n=e.target,o=!!n.checked;if(Array.isArray(a)){var s=t._i(a,null);n.checked?s<0&&(t.temporaryVal=a.concat([null])):s>-1&&(t.temporaryVal=a.slice(0,s).concat(a.slice(s+1)))}else t.temporaryVal=o}}}):"radio"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.temporaryVal,expression:"temporaryVal"}],class:"phone"==t.name?"length":"",attrs:{placeholder:t.val,name:t.name,type:"radio"},domProps:{checked:t._q(t.temporaryVal,null)},on:{input:function(e){t.changeValFn(e)},change:function(e){t.temporaryVal=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.temporaryVal,expression:"temporaryVal"}],class:"phone"==t.name?"length":"",attrs:{placeholder:t.val,name:t.name,type:t.type},domProps:{value:t.temporaryVal},on:{input:[function(e){e.target.composing||(t.temporaryVal=e.target.value)},function(e){t.changeValFn(e)}]}})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"phone"==t.name,expression:"name == 'phone'"}],staticClass:"validate_code"},[a("input",{class:1==t.canCountDown?"disabled_btn":"",attrs:{type:"button",disabled:1==t.canCountDown&&"disabled",value:t.countDownMsg},on:{click:t.getSmsCodeForFather}})])])])},staticRenderFns:[]};var r=a("VU/8")(i,l,!1,function(t){a("GxCL")},"data-v-92ac4af8",null).exports,c=a("Pgsp"),u=a("je3u"),m=a("g3lQ"),d=a("PI0u"),g={name:"register",components:{keyValMsgBlock:r,loginInput:c.a,globalBtn:u.a},data:function(){return{datas:[{name:"name",keys:"真实姓名",val:"必须与身份证一致",type:"text",min:2,max:30},{name:"sex",keys:"性别",val:"",type:"radio",min:2,max:30},{name:"certificateNum",keys:"身份证号",val:"注册后无法修改",type:"number",min:15,max:18},{name:"password",keys:"输入密码",val:"请输入您的密码，长度为8-14位",type:"password",min:6,max:30},{name:"repassword",keys:"确认密码",val:"请确认您的密码",type:"password",min:6,max:30},{name:"phone",keys:"手机号码",val:"请输入手机号码",type:"number",min:2,max:30},{name:"smsCode",keys:"验证码",val:"请输入手机验证码",type:"number",min:6,max:6}],subminBtn:{value:"提交注册",status:"normal register_btn"},ifCanRegisterFlag:!1,ifCanSmsCodeFlag:!1,ifChangeSmsCodeMsgFlag:!1,btnState:!1}},filters:{ifEmpty:function(t){return t||""}},methods:{isCardNo:function(t){return!1!==/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)},checkPhone:function(t){return!!/^1[34578]\d{9}$/.test(t)},notifyIt:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.$notify({message:t,duration:e})},validateRegisterMsg:function(){var t=this.$store.state.pmodule.register;return this.isCardNo(t.certificateNum)?t.password.length>14||t.password.length<8?(this.notifyIt("密码长度为8-14位"),console.log("密码长度不合规范"),!1):t.password!==t.repassword?(this.notifyIt("两次密码不相同"),console.log("两次密码不相同"),!1):!!this.checkPhone(t.phone)||(this.notifyIt("手机号错误"),console.log("手机号错误"),!1):(this.notifyIt("身份证错误"),console.log("身份证错误"),!1)},validateCode:function(){var t=this.$store.state.pmodule.register;for(var e in t){if(""==t[e])return this.ifCanRegisterFlag=!1,console.log("完成填写"),void this.notifyIt("请完成填写");this.ifCanRegisterFlag=!0}if(this.ifCanRegisterFlag=this.validateRegisterMsg(),this.ifCanRegisterFlag){this.btnState=!0,console.log("注册!");data={resultCode:1e3},this.btnState=!1,1e3==data.resultCode?(console.log("注册成功"),this.$router.push({name:"login"})):3001==data.resultCode?(console.log("验证码错误"),this.notifyIt("验证码错误")):3002==data.resultCode?(console.log("验证码失效,请重新获取"),this.notifyIt("验证码失效,请重新获取")):30001==data.resultCode?(console.log("短信验证码无效"),this.notifyIt("短信验证码无效")):20001==data.resultCode?(console.log("身份证已被注册"),this.notifyIt("身份证已被注册")):20002==data.resultCode?(console.log("手机号已被注册"),this.notifyIt("手机号已被注册")):1110==data.resultCode&&(console.log("网络繁忙"),this.notifyIt("网络繁忙"))}},getSmsCode:function(){var t=this.$store.state.pmodule.register;for(var e in t){if("smsCode"!=e&&""==t[e])return this.ifCanSmsCodeFlag=!1,console.log("完成填写"),void this.notifyIt("请完成填写");this.ifCanSmsCodeFlag=!0}if(this.ifCanSmsCodeFlag=this.validateRegisterMsg(),this.ifCanSmsCodeFlag){var a=this;Object(d.a)(m.a.getSystemSMS,{module:"register",phone:t.phone},function(t){1e3==(t=t.data.body).resultCode?(console.log("发送验证码成功"),a.notifyIt("发送验证码成功"),a.ifChangeSmsCodeMsgFlag=!0):1001==t.resultCode?(console.log("参数为空"),a.notifyIt("参数为空")):20002==t.resultCode?(console.log("该手机已被注册"),a.notifyIt("该手机已被注册")):3004==t.resultCode?(console.log("操作过快"),a.notifyIt("操作过快")):1110==t.resultCode?(console.log("网络繁忙"),a.notifyIt("网络繁忙")):3005==t.resultCode&&(console.log("今天您的验证码次数已经达到上限"),a.notifyIt("今天您的验证码次数已经达到上限"))},function(){a.notifyIt("网络繁忙")})}},changeFlag:function(){this.ifCanSmsCodeFlag=!1,this.ifChangeSmsCodeMsgFlag=!1}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.datas,function(e){return a("div",{key:e.name},[a("keyValMsgBlock",{attrs:{keys:e.keys,val:e.val,type:e.type,widths:t._f("ifEmpty")(e.widths),name:e.name,smsCodeFlag:t.ifChangeSmsCodeMsgFlag,min:e.min,max:e.max},on:{getSmsCode:t.getSmsCode,changeFlag:t.changeFlag}})],1)}),t._v(" "),a("globalBtn",{staticClass:"submit_btn",attrs:{value:t.subminBtn.value,status:t.subminBtn.status,btnState:t.btnState},on:{validateCode:t.validateCode}})],2)},staticRenderFns:[]};var f=a("VU/8")(g,h,!1,function(t){a("LuDR")},"data-v-063e6781",null);e.default=f.exports},o4dv:function(t,e){},woOf:function(t,e,a){t.exports={default:a("V3tA"),__esModule:!0}}});
//# sourceMappingURL=6.6d46bc8fbbef3a417821.js.map